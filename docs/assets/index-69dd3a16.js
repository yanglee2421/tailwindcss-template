var y=Object.defineProperty;var b=(e,t,s)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(b(e,typeof t!="symbol"?t+"":t,s),s),_=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var o=(e,t,s)=>(_(e,t,"read from private field"),s?s.call(e):t.get(e)),r=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},m=(e,t,s,i)=>(_(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{G as v,u as S}from"./class-getRandom-72db73bc.js";import{d as R,r as w,p as k,c as z,f as A,o as B,e as C,_ as I}from"./main-02695eb2.js";const M=new v(-.5,.5),P=new v(2,3),V=new v(1,4);var f,x;class E{constructor(t){r(this,f);n(this,"x",0);n(this,"y",0);n(this,"xv",0);n(this,"yv",2);n(this,"r",0);n(this,"color","");this.canvas=t,this.reset(),this.y=Math.random()*this.canvas.height}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=M.get(),this.yv=P.get(),this.r=V.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){o(this,f,x)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}f=new WeakSet,x=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var c,h;class F{constructor(t,s=100){r(this,c,[]);r(this,h,0);this.canvas=t;for(let i=0;i<s;i++)o(this,c).push(new E(t))}animation(){m(this,h,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:i}=this.canvas;t.clearRect(0,0,s,i),o(this,c).forEach(a=>a.update())}abortAnimation(){cancelAnimationFrame(o(this,h))}}c=new WeakMap,h=new WeakMap;const G=R({inheritAttrs:!0,__name:"page-snow",setup(e){const t=w(),s=w(),i=S(t);return k(i,(a,p,g)=>{if(!a)return;const[l]=a.contentBoxSize,d=C(s);if(!d)return;Object.assign(d,{width:l.inlineSize,height:l.blockSize});const u=new F(d,l.inlineSize/1920*200);u.animation(),g(()=>{u.abortAnimation()})},{flush:"post",immediate:!0}),(a,p)=>(B(),z("div",{ref_key:"boxRef",ref:t,class:"box"},[A("canvas",{ref_key:"cvsRef",ref:s,class:"cvs"},null,512)],512))}});const j=I(G,[["__scopeId","data-v-f485b037"]]);export{j as default};
