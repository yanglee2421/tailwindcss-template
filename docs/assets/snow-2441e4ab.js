var p=Object.defineProperty;var g=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(g(e,typeof t!="symbol"?t+"":t,s),s),m=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var o=(e,t,s)=>(m(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},v=(e,t,s,i)=>(m(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{G as _,u as y}from"./class-getRandom-686ec179.js";import{_ as b}from"./index-e5a9ed91.js";import{R,r as w,c as S,D as k,E as z,C as A,u as B}from"./vue-0310cf6f.js";import"./axios-2877efd3.js";const C=new _(-.5,.5),E=new _(2,3),I=new _(1,4);var f,x;class M{constructor(t){l(this,f);n(this,"x",0);n(this,"y",0);n(this,"xv",0);n(this,"yv",2);n(this,"r",0);n(this,"color","");this.canvas=t,this.reset(),this.y=Math.random()*this.canvas.height}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=C.get(),this.yv=E.get(),this.r=I.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){o(this,f,x)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}f=new WeakSet,x=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var c,h;class P{constructor(t,s=100){l(this,c,[]);l(this,h,0);this.canvas=t;for(let i=0;i<s;i++)o(this,c).push(new M(t))}animation(){v(this,h,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:i}=this.canvas;t.clearRect(0,0,s,i),o(this,c).forEach(a=>a.update())}abortAnimation(){cancelAnimationFrame(o(this,h))}}c=new WeakMap,h=new WeakMap;const V={inheritAttrs:!0},F=R({...V,__name:"snow",setup(e){const t=w(),s=w(),i=y(t);return S(i,a=>{if(!a)return;const[r]=a.contentBoxSize,d=B(s);if(!d)return;Object.assign(d,{width:r.inlineSize,height:r.blockSize});const u=new P(d,r.inlineSize/1920*200);return u.animation(),()=>{u.abortAnimation()}},{flush:"post",immediate:!0}),(a,r)=>(A(),k("div",{ref_key:"boxRef",ref:t,class:"box"},[z("canvas",{ref_key:"cvsRef",ref:s,class:"cvs"},null,512)],512))}});const D=b(F,[["__scopeId","data-v-4773ed14"]]);export{D as default};
