var C=Object.defineProperty;var P=(e,t,s)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var o=(e,t,s)=>(P(e,typeof t!="symbol"?t+"":t,s),s),S=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var i=(e,t,s)=>(S(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},u=(e,t,s,n)=>(S(e,t,"write to private field"),n?n.call(e,s):t.set(e,s),s);import{h as k,k as A,u as b,l as R}from"./index-6e47ca24.js";function q(e){const t=k();let s;const n=new ResizeObserver(([{contentBoxSize:[{inlineSize:h,blockSize:d}]}])=>{typeof s=="function"&&s(),s=e({width:h,height:d})});return A(()=>{const h=b(t);h instanceof HTMLElement&&n.observe(h)}),R(()=>{const h=b(t);h instanceof HTMLElement&&(n.unobserve(h),n.disconnect())}),t}class r{constructor(t,s){this.min=t,this.max=s}get(){return Math.random()*(this.max-this.min)+this.min}}new r(0,255);new r(1,4.5);new r(-5,5);new r(30,70);const p=new r(-1,1),L=new r(2,4);class M{constructor(t,s){o(this,"xSpeed",p.get());o(this,"ySpeed",p.get());o(this,"radius",L.get());o(this,"x");o(this,"y");this.canvas=t,this.color=s,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${s}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:s}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>s)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var c,m,a,g;class B{constructor(t,s=100,n=100,h="254, 250, 244"){l(this,c,[]);l(this,m,0);l(this,a,null);l(this,g,new AbortController);this.canvas=t,this.lineMax=n,this.color=h;for(let d=0;d<s;d++)i(this,c).push(new M(this.canvas,this.color))}drawLine(){i(this,c).forEach((t,s)=>{i(this,c).slice(s+1).forEach(n=>{const h=Math.abs(t.x-n.x);if(h>this.lineMax)return;const d=Math.abs(t.y-n.y);if(d>this.lineMax)return;const y=Math.sqrt(h**2+d**2);if(y>this.lineMax)return;const x=this.canvas.getContext("2d");x.beginPath(),x.moveTo(t.x,t.y),x.lineTo(n.x,n.y),x.strokeStyle=`rgba(${this.color}, ${1-y/this.lineMax})`,x.lineWidth=.8,x.stroke()})})}animate(){u(this,m,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),i(this,c).forEach(s=>s.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(i(this,m))}bindEvent(){u(this,g,new AbortController);const{signal:t}=i(this,g);this.canvas.addEventListener("mouseover",s=>{if(i(this,a))return;const{clientX:n,clientY:h}=s;u(this,a,new M(this.canvas,this.color)),i(this,a).x=n,i(this,a).y=h,i(this,a).xSpeed=0,i(this,a).ySpeed=0,i(this,c).push(i(this,a))},{signal:t}),this.canvas.addEventListener("mousemove",s=>{if(!i(this,a))return;const{clientX:n,clientY:h}=s;i(this,a).x=n,i(this,a).y=h},{signal:t}),this.canvas.addEventListener("mouseout",()=>{!i(this,a)||i(this,c).includes(i(this,a))&&(i(this,c).splice(i(this,c).indexOf(i(this,a)),1),u(this,a,null))},{signal:t})}abortEvent(){i(this,g).abort()}}c=new WeakMap,m=new WeakMap,a=new WeakMap,g=new WeakMap;const z=new r(1,4),F=new r(-.5,.5),$=new r(1,2),X=new r(.5,1);var v,E;class Y{constructor(t){l(this,v);o(this,"x",0);o(this,"y",0);o(this,"xS",0);o(this,"yS",2);o(this,"r",0);o(this,"color","");this.canvas=t,this.reset();const s=new r(0,this.canvas.height);this.y=s.get()}reset(){const t=new r(0,this.canvas.width);this.x=t.get(),this.y=0,this.xS=F.get(),this.yS=$.get(),this.r=z.get(),this.color=`rgba(255,255,255,${X.get()})`}draw(){const t=this.canvas.getContext("2d");t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fill()}update(){i(this,v,E)||this.reset(),this.x+=this.xS,this.y+=this.yS,this.draw()}}v=new WeakSet,E=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var w,f;class H{constructor(t,s=100){l(this,w,[]);l(this,f,0);this.canvas=t;for(let n=0;n<s;n++)i(this,w).push(new Y(t))}animation(){u(this,f,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:n}=this.canvas;t.clearRect(0,0,s,n),i(this,w).forEach(h=>{h.update()})}abortAnimation(){cancelAnimationFrame(i(this,f))}}w=new WeakMap,f=new WeakMap;export{B as P,H as S,q as u};
