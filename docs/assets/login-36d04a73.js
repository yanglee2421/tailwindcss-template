import{l as k,d as w,c as M,o as O,k as V,a as A,u as d,R as x,an as f,C as R,D as S,a2 as e,b as P,r as F,X as U,Y as r,E as _,a0 as p,Q as z,aF as q,aG as L}from"./vue-57ff9e31.js";import{S as j,s as I,g as B,n as N,u as D,a as K,b as T,i as Q,c as W,d as Y,E as G,e as X,_ as H}from"./wp-vite-main.js";import"./axios-2877efd3.js";class J extends j{constructor(t,s){super(),this.client=t,this.setOptions(s),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const o=this.options;this.options=this.client.defaultMutationOptions(t),I(o,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(s=this.currentMutation)==null||s.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const s={listeners:!0};t.type==="success"?s.onSuccess=!0:t.type==="error"&&(s.onError=!0),this.notify(s)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:B(),s={...t,isLoading:t.status==="loading",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(t){N.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var s,o,n,l;(s=(o=this.mutateOptions).onSuccess)==null||s.call(o,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(n=(l=this.mutateOptions).onSettled)==null||n.call(l,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var c,u,a,m;(c=(u=this.mutateOptions).onError)==null||c.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(a=(m=this.mutateOptions).onSettled)==null||a.call(m,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:b})=>{b(this.currentResult)})})}}function Z(i,t,s){var o;const n=k(()=>$(i,t,s)),l=(o=n.value.queryClient)!=null?o:D(n.value.queryClientKey),c=new J(l,l.defaultMutationOptions(n.value)),u=w(c.getCurrentResult()),a=c.subscribe(h=>{K(u,h)}),m=(h,g)=>{c.mutate(h,g).catch(()=>{})};M(n,()=>{c.setOptions(l.defaultMutationOptions(n.value))},{flush:"sync"}),O(()=>{a()});const b=V(A(u));return M(()=>u.error,h=>{if(h&&T(n.value.useErrorBoundary,[h]))throw h}),{...b,mutate:m,mutateAsync:u.mutate,reset:u.reset}}function $(i,t,s){const o=d(i),n=d(t);let l=o;return Q(o)&&(typeof n=="function"?l={...d(s),mutationKey:o,mutationFn:n}:l={...n,mutationKey:o}),typeof o=="function"&&(l={...n,mutationFn:o}),W(l)}function tt(i){return Y({method:"POST",url:"/usr",...i})}function et(){return Z({mutationFn(i){return tt(i)},onError(i){G.error(i.message)}})}const st={class:"flex justify-center"},nt=x({inheritAttrs:!1,__name:"icon-btn",setup(i){return(t,s)=>{const o=f("el-button");return R(),S("div",st,[e(o,{icon:"WindPower",size:"large",circle:"",text:"",class:"text-2xl"}),e(o,{icon:"ElementPlus",size:"large",circle:"",text:"",class:"text-2xl"}),e(o,{icon:"SwitchFilled",size:"large",circle:"",text:"",class:"text-2xl"}),e(o,{icon:"ChromeFilled",size:"large",circle:"",text:"",tag:"a",href:"https://github.com/yanglee2421/vite-vue",target:"_blank",class:"text-2xl",title:"github"})])}}}),C=Symbol(),ot={class:"flex justify-between w-full"},it=x({inheritAttrs:!1,__name:"login-form",setup(i){const t=P(C);if(!t)throw new Error("No Provider symbolForm!");const{mutate:s,isLoading:o}=et(),n=F(),{signIn:l}=X(),c=()=>{var u;(u=d(n))==null||u.validate(a=>{a&&s({data:t},{onSuccess(m){l(m,t.isRemember)}})})};return(u,a)=>{const m=f("el-input"),b=f("el-form-item"),h=f("el-checkbox"),g=f("el-button"),E=f("el-form");return R(),U(E,{ref_key:"formRef",ref:n,model:d(t),rules:{},"label-position":"top",size:"large",autocapitalize:"off"},{default:r(()=>[e(b,{prop:"email",rules:[{required:!0},{type:"string",min:8,max:50},{type:"email"}]},{default:r(()=>[e(m,{modelValue:d(t).email,"onUpdate:modelValue":a[0]||(a[0]=v=>d(t).email=v),modelModifiers:{trim:!0},"prefix-icon":"User",type:"email",placeholder:"Email"},null,8,["modelValue"])]),_:1}),e(b,{prop:"passwd",rules:[{required:!0},{type:"string",min:8,max:16}]},{default:r(()=>[e(m,{modelValue:d(t).passwd,"onUpdate:modelValue":a[1]||(a[1]=v=>d(t).passwd=v),modelModifiers:{trim:!0},type:"password","prefix-icon":"Lock","show-password":"",placeholder:"Password"},null,8,["modelValue"])]),_:1}),e(b,{prop:"prop"},{default:r(()=>[_("div",ot,[e(h,{modelValue:d(t).isRemember,"onUpdate:modelValue":a[2]||(a[2]=v=>d(t).isRemember=v)},{default:r(()=>[p("Remember Me")]),_:1},8,["modelValue"]),e(g,{type:"primary",link:""},{default:r(()=>[p("Forgot Password?")]),_:1})])]),_:1}),e(b,null,{default:r(()=>[e(g,{onClick:c,loading:d(o),type:"primary",class:"w-full uppercase bg-none bg-sky-500 font-semibold"},{default:r(()=>[p("sign in")]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])}}}),y=i=>(q("data-v-66e4689f"),i=i(),L(),i),rt={class:"flex h-full"},lt=y(()=>_("div",{class:"flex-1"},null,-1)),at={class:"w-full sm:max-w-sm"},ut=y(()=>_("b",{class:"font-semibold"},"admin@yang.com",-1)),ct=y(()=>_("b",{class:"font-semibold"},"admin123456",-1)),dt=y(()=>_("br",null,null,-1)),pt=y(()=>_("b",{class:"font-semibold"},"client@yang.com",-1)),ft=y(()=>_("b",{class:"font-semibold"},"client123456",-1)),mt={class:"flex justify-center gap-3 w-full"},ht=x({inheritAttrs:!1,__name:"login",setup(i){const t=w({email:"",passwd:"",isRemember:!0});return z(C,t),(s,o)=>{const n=f("el-text"),l=f("el-alert"),c=f("el-button"),u=f("el-divider"),a=f("el-card");return R(),S("div",rt,[lt,_("div",at,[e(a,{class:"flex flex-col justify-center h-full px-1"},{default:r(()=>[e(n,{tag:"h1",size:"large",class:"text-2xl"},{default:r(()=>[p("Wellcome to Yang_Lee!")]),_:1}),e(n,{class:"text-basic text-slate-400"},{default:r(()=>[p("Please sign-in to your account and start the adventure.")]),_:1}),e(l,{closable:!1,class:"my-3"},{default:r(()=>[e(n,{class:"text-gray-500"},{default:r(()=>[p("Admin: "),ut,p(" / Pass: "),ct]),_:1}),dt,e(n,{class:"text-gray-500"},{default:r(()=>[p("Client: "),pt,p(" / Pass: "),ft]),_:1})]),_:1}),e(it),_("div",mt,[e(n,{size:"default"},{default:r(()=>[p("New on out platform?")]),_:1}),e(c,{type:"primary",link:""},{default:r(()=>[p("Create an account")]),_:1})]),e(u,null,{default:r(()=>[p("or")]),_:1}),e(nt)]),_:1})])])}}});const vt=H(ht,[["__scopeId","data-v-66e4689f"]]);export{vt as default};
