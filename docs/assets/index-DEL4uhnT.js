var b=Object.defineProperty;var y=(e,t,s)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var a=(e,t,s)=>(y(e,typeof t!="symbol"?t+"":t,s),s),u=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var n=(e,t,s)=>(u(e,t,"read from private field"),s?s.call(e):t.get(e)),r=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},w=(e,t,s,i)=>(u(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{G as v,u as R}from"./class-getRandom-UUBdrc2J.js";import{_ as S}from"./main-gk-vjH92.js";import{x as k,r as g,C as z,N as A,O as B,H as C,u as p}from"./element-plus-hgTYpOXD.js";const P=new v(-.5,.5),E=new v(2,3),I=new v(1,4);var f,_;class M{constructor(t){r(this,f);a(this,"x",0);a(this,"y",0);a(this,"xv",0);a(this,"yv",2);a(this,"r",0);a(this,"color","");this.canvas=t,this.reset(),this.y=Math.random()*this.canvas.height}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=P.get(),this.yv=E.get(),this.r=I.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){n(this,f,_)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}f=new WeakSet,_=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var o,c;class O{constructor(t,s=100){r(this,o,[]);r(this,c,0);this.canvas=t;for(let i=0;i<s;i++)n(this,o).push(new M(t))}animation(){w(this,c,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:i}=this.canvas;t.clearRect(0,0,s,i),n(this,o).forEach(h=>h.update())}abortAnimation(){cancelAnimationFrame(n(this,c))}}o=new WeakMap,c=new WeakMap;const V=k({inheritAttrs:!0,__name:"page-snow",setup(e){const t=g(),s=g(),i=R(t);return z(h=>{const l=p(i);if(!l)return;const[d]=l.contentBoxSize,m=p(s);if(!m)return;Object.assign(m,{width:d.inlineSize,height:d.blockSize});const x=new O(m,d.inlineSize/1920*200);x.animation(),h(()=>{x.abortAnimation()})}),(h,l)=>(C(),A("div",{ref_key:"boxRef",ref:t,class:"box"},[B("canvas",{ref_key:"cvsRef",ref:s,class:"cvs"},null,512)],512))}}),Y=S(V,[["__scopeId","data-v-4645ab92"]]);export{Y as default};
