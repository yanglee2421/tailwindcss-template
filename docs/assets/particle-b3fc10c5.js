var b=Object.defineProperty;var g=(i,t,s)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[t]=s;var l=(i,t,s)=>(g(i,typeof t!="symbol"?t+"":t,s),s),v=(i,t,s)=>{if(!t.has(i))throw TypeError("Cannot "+s)};var e=(i,t,s)=>(v(i,t,"read from private field"),s?s.call(i):t.get(i)),u=(i,t,s)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,s)},x=(i,t,s,a)=>(v(i,t,"write to private field"),a?a.call(i,s):t.set(i,s),s);import{G as y,u as w}from"./class-getRandom-efce5035.js";import{_ as M}from"./index-77dd61ad.js";import{d as S,b as E,o as A,e as k,M as C,A as R}from"./vue-a77f30ea.js";const p=new y(-1,1),L=new y(2,4);class _{constructor(t,s){l(this,"xSpeed",p.get());l(this,"ySpeed",p.get());l(this,"radius",L.get());l(this,"x");l(this,"y");this.canvas=t,this.color=s,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${s}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:s}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>s)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var o,f,n,d;class P{constructor(t,s=100,a=100,h="254, 250, 244"){u(this,o,[]);u(this,f,0);u(this,n,null);u(this,d,new AbortController);this.canvas=t,this.lineMax=a,this.color=h;for(let r=0;r<s;r++)e(this,o).push(new _(this.canvas,this.color))}drawLine(){e(this,o).forEach((t,s)=>{e(this,o).slice(s+1).forEach(a=>{const h=Math.abs(t.x-a.x);if(h>this.lineMax)return;const r=Math.abs(t.y-a.y);if(r>this.lineMax)return;const m=Math.sqrt(h**2+r**2);if(m>this.lineMax)return;const c=this.canvas.getContext("2d");c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(a.x,a.y),c.strokeStyle=`rgba(${this.color}, ${1-m/this.lineMax})`,c.lineWidth=.8,c.stroke()})})}animate(){x(this,f,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),e(this,o).forEach(s=>s.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(e(this,f))}bindEvent(){x(this,d,new AbortController);const{signal:t}=e(this,d);this.canvas.addEventListener("mouseover",s=>{if(e(this,n))return;const{clientX:a,clientY:h}=s;x(this,n,new _(this.canvas,this.color)),e(this,n).x=a,e(this,n).y=h,e(this,n).xSpeed=0,e(this,n).ySpeed=0,e(this,o).push(e(this,n))},{signal:t}),this.canvas.addEventListener("mousemove",s=>{if(!e(this,n))return;const{clientX:a,clientY:h}=s;e(this,n).x=a,e(this,n).y=h},{signal:t}),this.canvas.addEventListener("mouseout",()=>{e(this,n)&&e(this,o).includes(e(this,n))&&(e(this,o).splice(e(this,o).indexOf(e(this,n)),1),x(this,n,null))},{signal:t})}abortEvent(){e(this,d).abort()}}o=new WeakMap,f=new WeakMap,n=new WeakMap,d=new WeakMap;const $={inheritAttrs:!0},B=S({...$,__name:"particle",setup(i){const t=E(),s=w(a=>{const h=R(t);if(!h)return;Object.assign(h,a);const r=new P(h,a.width/1920*120,110);return r.animate(),()=>r.abortAnimate()});return(a,h)=>(A(),k("div",{ref:r=>s.value=r,class:"particle-box"},[C("canvas",{ref:r=>t.value=r,class:"particle-canvas"},null,512)],512))}});const O=M(B,[["__scopeId","data-v-d704dfb5"]]);export{O as default};
