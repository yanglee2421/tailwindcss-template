var p=Object.defineProperty;var g=(e,t,s)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(g(e,typeof t!="symbol"?t+"":t,s),s),_=(e,t,s)=>{if(!t.has(e))throw TypeError("Cannot "+s)};var o=(e,t,s)=>(_(e,t,"read from private field"),s?s.call(e):t.get(e)),f=(e,t,s)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,s)},v=(e,t,s,i)=>(_(e,t,"write to private field"),i?i.call(e,s):t.set(e,s),s);import{G as m,u as y}from"./class-getRandom-a76692cc.js";import{_ as b}from"./wp-vite-main.js";import{R,r as w,c as S,D as k,E as z,C as A,u as B}from"./vue-57ff9e31.js";import"./axios-2877efd3.js";const C=new m(-.5,.5),E=new m(2,3),I=new m(1,4);var l,x;class M{constructor(t){f(this,l);n(this,"x",0);n(this,"y",0);n(this,"xv",0);n(this,"yv",2);n(this,"r",0);n(this,"color","");this.canvas=t,this.reset(),this.y=Math.random()*this.canvas.height}reset(){this.x=Math.random()*this.canvas.width,this.y=0,this.xv=C.get(),this.yv=E.get(),this.r=I.get(),this.color=`rgba(255,255,255,${.5+this.r/4})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.r,0,Math.PI*2),t.closePath(),t.fillStyle=this.color,t.shadowColor="#fff",t.shadowBlur=10,t.fill()}update(){o(this,l,x)||this.reset(),this.x+=this.xv,this.y+=this.yv,this.draw()}}l=new WeakSet,x=function(){const t=this.x>0&&this.x<this.canvas.width,s=this.y>0&&this.y<this.canvas.height;return t&&s};var c,h;class P{constructor(t,s=100){f(this,c,[]);f(this,h,0);this.canvas=t;for(let i=0;i<s;i++)o(this,c).push(new M(t))}animation(){v(this,h,requestAnimationFrame(this.animation.bind(this)));const t=this.canvas.getContext("2d"),{width:s,height:i}=this.canvas;t.clearRect(0,0,s,i),o(this,c).forEach(a=>a.update())}abortAnimation(){cancelAnimationFrame(o(this,h))}}c=new WeakMap,h=new WeakMap;const V=R({inheritAttrs:!0,__name:"snow",setup(e){const t=w(),s=w(),i=y(t);return S(i,a=>{if(!a)return;const[r]=a.contentBoxSize,d=B(s);if(!d)return;Object.assign(d,{width:r.inlineSize,height:r.blockSize});const u=new P(d,r.inlineSize/1920*200);return u.animation(),()=>{u.abortAnimation()}},{flush:"post",immediate:!0}),(a,r)=>(A(),k("div",{ref_key:"boxRef",ref:t,class:"box"},[z("canvas",{ref_key:"cvsRef",ref:s,class:"cvs"},null,512)],512))}});const q=b(V,[["__scopeId","data-v-fbd50ed0"]]);export{q as default};
