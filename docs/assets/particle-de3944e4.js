var g=Object.defineProperty;var w=(i,t,e)=>t in i?g(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var d=(i,t,e)=>(w(i,typeof t!="symbol"?t+"":t,e),e),p=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var s=(i,t,e)=>(p(i,t,"read from private field"),e?e.call(i):t.get(i)),x=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},f=(i,t,e,a)=>(p(i,t,"write to private field"),a?a.call(i,e):t.set(i,e),e);import{G as y,u as S}from"./class-getRandom-686ec179.js";import{_ as M}from"./index-e5a9ed91.js";import{R as E,r as v,c as R,D as k,E as A,C,u as z}from"./vue-0310cf6f.js";import"./axios-2877efd3.js";const _=new y(-1,1),L=new y(2,4);class b{constructor(t,e){d(this,"xSpeed",_.get());d(this,"ySpeed",_.get());d(this,"radius",L.get());d(this,"x");d(this,"y");this.canvas=t,this.color=e,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${e}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:e}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>e)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var h,m,n,u;class P{constructor(t,e=100,a=100,r="254, 250, 244"){x(this,h,[]);x(this,m,0);x(this,n,null);x(this,u,new AbortController);this.canvas=t,this.lineMax=a,this.color=r;for(let o=0;o<e;o++)s(this,h).push(new b(this.canvas,this.color))}drawLine(){s(this,h).forEach((t,e)=>{s(this,h).slice(e+1).forEach(a=>{const r=Math.abs(t.x-a.x);if(r>this.lineMax)return;const o=Math.abs(t.y-a.y);if(o>this.lineMax)return;const l=Math.sqrt(r**2+o**2);if(l>this.lineMax)return;const c=this.canvas.getContext("2d");c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(a.x,a.y),c.strokeStyle=`rgba(${this.color}, ${1-l/this.lineMax})`,c.lineWidth=.8,c.stroke()})})}animate(){f(this,m,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),s(this,h).forEach(e=>e.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(s(this,m))}bindEvent(){f(this,u,new AbortController);const{signal:t}=s(this,u);this.canvas.addEventListener("mouseover",e=>{if(s(this,n))return;const{clientX:a,clientY:r}=e;f(this,n,new b(this.canvas,this.color)),s(this,n).x=a,s(this,n).y=r,s(this,n).xSpeed=0,s(this,n).ySpeed=0,s(this,h).push(s(this,n))},{signal:t}),this.canvas.addEventListener("mousemove",e=>{if(!s(this,n))return;const{clientX:a,clientY:r}=e;s(this,n).x=a,s(this,n).y=r},{signal:t}),this.canvas.addEventListener("mouseout",()=>{s(this,n)&&s(this,h).includes(s(this,n))&&(s(this,h).splice(s(this,h).indexOf(s(this,n)),1),f(this,n,null))},{signal:t})}abortEvent(){s(this,u).abort()}}h=new WeakMap,m=new WeakMap,n=new WeakMap,u=new WeakMap;const B={inheritAttrs:!0},$=E({...B,__name:"particle",setup(i){const t=v(),e=v(),a=S(e);return R(a,r=>{if(!r)return;const[o]=r.contentBoxSize,l=z(t);if(!l)return;Object.assign(l,{width:o.inlineSize,height:o.blockSize});const c=new P(l,o.inlineSize/1920*120,110);return c.animate(),()=>{c.abortAnimate()}},{flush:"post",immediate:!0}),(r,o)=>(C(),k("div",{ref_key:"boxRef",ref:e,class:"particle-box"},[A("canvas",{ref:l=>t.value=l,class:"particle-canvas"},null,512)],512))}});const T=M($,[["__scopeId","data-v-bc8e2a75"]]);export{T as default};
