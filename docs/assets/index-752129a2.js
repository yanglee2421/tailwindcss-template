var S=Object.defineProperty;var M=(i,t,e)=>t in i?S(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var d=(i,t,e)=>(M(i,typeof t!="symbol"?t+"":t,e),e),_=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var s=(i,t,e)=>(_(i,t,"read from private field"),e?e.call(i):t.get(i)),x=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},f=(i,t,e,n)=>(_(i,t,"write to private field"),n?n.call(i,e):t.set(i,e),e);import{G as w,u as E}from"./class-getRandom-72db73bc.js";import{d as k,r as g,p as R,c as A,f as P,o as C,e as z,_ as L}from"./main-02695eb2.js";const y=new w(-1,1),B=new w(2,4);class b{constructor(t,e){d(this,"xSpeed",y.get());d(this,"ySpeed",y.get());d(this,"radius",B.get());d(this,"x");d(this,"y");this.canvas=t,this.color=e,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${e}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:e}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>e)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var r,p,a,u;class ${constructor(t,e=100,n=100,h="254, 250, 244"){x(this,r,[]);x(this,p,0);x(this,a,null);x(this,u,new AbortController);this.canvas=t,this.lineMax=n,this.color=h;for(let c=0;c<e;c++)s(this,r).push(new b(this.canvas,this.color))}drawLine(){s(this,r).forEach((t,e)=>{s(this,r).slice(e+1).forEach(n=>{const h=Math.abs(t.x-n.x);if(h>this.lineMax)return;const c=Math.abs(t.y-n.y);if(c>this.lineMax)return;const l=Math.sqrt(h**2+c**2);if(l>this.lineMax)return;const o=this.canvas.getContext("2d");o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(n.x,n.y),o.strokeStyle=`rgba(${this.color}, ${1-l/this.lineMax})`,o.lineWidth=.8,o.stroke()})})}animate(){f(this,p,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),s(this,r).forEach(e=>e.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(s(this,p))}bindEvent(){f(this,u,new AbortController);const{signal:t}=s(this,u);this.canvas.addEventListener("mouseover",e=>{if(s(this,a))return;const{clientX:n,clientY:h}=e;f(this,a,new b(this.canvas,this.color)),s(this,a).x=n,s(this,a).y=h,s(this,a).xSpeed=0,s(this,a).ySpeed=0,s(this,r).push(s(this,a))},{signal:t}),this.canvas.addEventListener("mousemove",e=>{if(!s(this,a))return;const{clientX:n,clientY:h}=e;s(this,a).x=n,s(this,a).y=h},{signal:t}),this.canvas.addEventListener("mouseout",()=>{s(this,a)&&s(this,r).includes(s(this,a))&&(s(this,r).splice(s(this,r).indexOf(s(this,a)),1),f(this,a,null))},{signal:t})}abortEvent(){s(this,u).abort()}}r=new WeakMap,p=new WeakMap,a=new WeakMap,u=new WeakMap;const I={inheritAttrs:!0},O=k({...I,__name:"page-particle",setup(i){const t=g(),e=g(),n=E(e);return R(n,(h,c,l)=>{if(!h)return;const[o]=h.contentBoxSize,v=z(t);if(!v)return;Object.assign(v,{width:o.inlineSize,height:o.blockSize});const m=new $(v,o.inlineSize/1920*120,110);m.animate(),l(()=>{m.abortAnimate()})},{flush:"post",immediate:!0}),(h,c)=>(C(),A("div",{ref_key:"boxRef",ref:e,class:"particle-box"},[P("canvas",{ref:l=>t.value=l,class:"particle-canvas"},null,512)],512))}});const T=L(O,[["__scopeId","data-v-54018d70"]]);export{T as default};
