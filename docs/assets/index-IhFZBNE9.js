var S=Object.defineProperty;var M=(i,t,e)=>t in i?S(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var d=(i,t,e)=>(M(i,typeof t!="symbol"?t+"":t,e),e),p=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var s=(i,t,e)=>(p(i,t,"read from private field"),e?e.call(i):t.get(i)),u=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},f=(i,t,e,a)=>(p(i,t,"write to private field"),a?a.call(i,e):t.set(i,e),e);import{G as w,u as E}from"./class-getRandom-UUBdrc2J.js";import{_ as k}from"./main-gk-vjH92.js";import{x as R,r as b,C as z,N as A,O as C,H as P,u as g}from"./element-plus-hgTYpOXD.js";const y=new w(-1,1),L=new w(2,4);class _{constructor(t,e){d(this,"xSpeed",y.get());d(this,"ySpeed",y.get());d(this,"radius",L.get());d(this,"x");d(this,"y");this.canvas=t,this.color=e,this.x=Math.random()*t.width,this.y=Math.random()*t.height,this.color=`rgba(${e}, ${1-1/this.radius})`}draw(){const t=this.canvas.getContext("2d");t.beginPath(),t.arc(this.x,this.y,this.radius,0,Math.PI*2),t.strokeStyle=this.color,t.stroke()}update(){const{width:t,height:e}=this.canvas;(this.x<0||this.x>t)&&(this.xSpeed*=-1),(this.y<0||this.y>e)&&(this.ySpeed*=-1),this.x+=this.xSpeed,this.y+=this.ySpeed,this.draw()}}var r,m,n,x;class B{constructor(t,e=100,a=100,h="254, 250, 244"){u(this,r,[]);u(this,m,0);u(this,n,null);u(this,x,new AbortController);this.canvas=t,this.lineMax=a,this.color=h;for(let c=0;c<e;c++)s(this,r).push(new _(this.canvas,this.color))}drawLine(){s(this,r).forEach((t,e)=>{s(this,r).slice(e+1).forEach(a=>{const h=Math.abs(t.x-a.x);if(h>this.lineMax)return;const c=Math.abs(t.y-a.y);if(c>this.lineMax)return;const l=Math.sqrt(h**2+c**2);if(l>this.lineMax)return;const o=this.canvas.getContext("2d");o.beginPath(),o.moveTo(t.x,t.y),o.lineTo(a.x,a.y),o.strokeStyle=`rgba(${this.color}, ${1-l/this.lineMax})`,o.lineWidth=.8,o.stroke()})})}animate(){f(this,m,requestAnimationFrame(this.animate.bind(this))),this.canvas.getContext("2d").clearRect(0,0,this.canvas.width,this.canvas.height),s(this,r).forEach(e=>e.update()),this.drawLine()}abortAnimate(){cancelAnimationFrame(s(this,m))}bindEvent(){f(this,x,new AbortController);const{signal:t}=s(this,x);this.canvas.addEventListener("mouseover",e=>{if(s(this,n))return;const{clientX:a,clientY:h}=e;f(this,n,new _(this.canvas,this.color)),s(this,n).x=a,s(this,n).y=h,s(this,n).xSpeed=0,s(this,n).ySpeed=0,s(this,r).push(s(this,n))},{signal:t}),this.canvas.addEventListener("mousemove",e=>{if(!s(this,n))return;const{clientX:a,clientY:h}=e;s(this,n).x=a,s(this,n).y=h},{signal:t}),this.canvas.addEventListener("mouseout",()=>{s(this,n)&&s(this,r).includes(s(this,n))&&(s(this,r).splice(s(this,r).indexOf(s(this,n)),1),f(this,n,null))},{signal:t})}abortEvent(){s(this,x).abort()}}r=new WeakMap,m=new WeakMap,n=new WeakMap,x=new WeakMap;const O={inheritAttrs:!0},$=R({...O,__name:"page-particle",setup(i){const t=b(),e=b(),a=E(e);return z(h=>{const c=g(a);if(!c)return;const[l]=c.contentBoxSize,o=g(t);if(!o)return;Object.assign(o,{width:l.inlineSize,height:l.blockSize});const v=new B(o,l.inlineSize/1920*120,110);v.animate(),h(()=>{v.abortAnimate()})}),(h,c)=>(P(),A("div",{ref_key:"boxRef",ref:e,class:"particle-box"},[C("canvas",{ref:l=>t.value=l,class:"particle-canvas"},null,512)],512))}}),N=k($,[["__scopeId","data-v-60863c1d"]]);export{N as default};
